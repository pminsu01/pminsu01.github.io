<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>집안일 분담 앱</title>
  <script>
    // GitHub Pages SPA 라우팅 해결
    // 404 페이지에서 실제 요청된 경로를 sessionStorage에 저장하고 index.html로 리다이렉트
    (function() {
      var pathSegmentsToKeep = 1; // GitHub Pages 레포지토리 이름이 있으면 1, 없으면 0

      var l = window.location;

      // 현재 요청된 전체 URL을 sessionStorage에 저장
      sessionStorage.setItem(
        'redirect',
        l.pathname.slice(0, 1 + l.pathname.length * pathSegmentsToKeep) +
        (l.pathname.slice(pathSegmentsToKeep).replace(/&/g, '~and~') || '') +
        (l.search ? '&' + l.search.slice(1).replace(/&/g, '~and~') : '') +
        l.hash
      );

      // index.html로 리다이렉트 (즉시)
      l.replace(
        l.origin + l.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + '/'
      );
    })();
  </script>
</head>
<body>
  <!-- 리다이렉트 중... -->
</body>
</html>
